---
title: "c"
date: 2025-02-05T13:00:00+08:00
draft: false
categories: ["Note","C"]
tags: ["Note","C","C"]
summary: C language
---

c->java/python

c: https://wangdoc.com/clang/intro

# 简介

https://www.ruanyifeng.com/blog/2006/03/programming_language_evaluations.html

今天在网上看到一篇《[Eric Raymond对于几大程序开发语言的评价](https://www.google.com/search?hl=en&source=hp&q=Eric+Raymond对于几大程序开发语言的评价&btnG=Google+Search&aq=f&aqi=&aql=&oq=&gs_rfai=)》。

我对编程懂的很少，一直想加强学习，就把它转贴过来了。

我的感受是学习程序语言，一定必须从徒手写每一行代码开始学，这样可能是最容易的方法。我最早学的是微软的Visual Basic，按理说BASIC比较简单，应该最好学，可是微软帮你把所有图形界面都做好了，成了一个完全的黑箱，用户等于在对这个黑箱编程，对程序的实际运行流程一点感觉也没有。我学了半年，依然觉得没学会编程。从那时起，我就开始觉得不能跟着微软走了。

后来，我又去学了C语言。这次就从命令行下开始学，一行一行的写，然后再编译。C是公认比较难学的语言，但是我下了决心从最低的起点开始学，学习环境是将近10多年前推出的Turbo C 3.0。虽然我现在C的水平还是很低，但是感觉对C的认识很清楚，许多原理上的问题都理解了。

C编程比较麻烦，我下一门想学perl或者python。我正好有一些想法想实现，急需自编软件处理数据，希望今年之内可以解决掉。

---



**Eric Raymond对于几大程序开发语言的评价**

【译者注】

Eric Raymond是开源运动的领袖人物，对于UNIX开发有很深的造诣，主持开发了fetchmail。他的《大教堂与集市》被奉为开源运动的经典之作。下面对几大开发语言的评价非常中肯，是我近年来看到的比较出色的评论。特别是他评价中抱有的那种"简单就是好"的思想，很值得我们深思。我特别选译出一些段落，供大家阅读思考。原文参见：http://www.catb.org/~esr/writings/taoup/html/ch14s04.html

Raymond此文不是在泛泛地去谈语言的优劣，而是要回答一个问题：在UNIX下开发开源项目，如何选择开发工具？我翻译的很零散，建议大家去看原文。

**C**

虽说C语言在内存管理方面存在严重的缺陷，不过它还是在某些应用领域里称王称霸。对于那些要求最高的效率，良好的实时性，或者与操作系统内核紧密关联的程序来说，C仍然是很好的选择。

C良好的可移植性也为它加了分。不过现在很多其他的语言可移植性越来越好，C在这方面的优势可能会逐渐丧失。

现有的很多程序可以产生非常棒的C代码，比如语法分析器、GUI Builder等，这时候C语言也是有吸引力的，因为你所需要编写的代码只是整个程序的一小部分。

再有，我们当然应该认识道，C语言对于程序员来说具有无可替代的价值。就我这里讨论的每一种语言而论，只要你发掘的足够深，到最后你会看到它们的内核都是用纯正的、可移植的C写成的。

到了今天这个时候，我们最好把C看成是UNIX虚拟机上的高级汇编语言。

就算是其他的高级语言完全可以满足你的工作需要，抽出时间来学习C语言也仍然有益，它能帮助你在硬件体系的层次上思考问题。

即使到了今天，最好的C语言教程仍然是1988年出版的K&R第二版The C Programming Language.

总结：C最出色的地方在于其高效和贴近机器，最糟糕的地方在它的内存管理地狱。

**C++**

C++最初发布于1980年代中期，当时面向对象语言被认为是解决软件复杂性问题的银弹。C++的面向对象特性看相去使其全面超越了C，支持者认为C++将迅速把上一代语言挤到陈列馆里去。

但是历史并非如此。究其原因，至少有一部分归咎于C++本身。为了与C兼容，C++被迫作出了很多重大的设计妥协，结果导致语言过分华丽，过分复杂。为了与C兼容，C++并没有采用自动内存管理的策略，从而丧失了修正C最严重问题的机会。

另外一部分原因，恐怕要算到面向对象身上。看起来OO并没有很好的达成人们当年的预期。我就这个问题调研过，我发现使用OO方法导致组件之间出现很厚的粘合层，并且带来了严重的可维护性问题。今天让我们来看看开放源码社区，你会发现C++的应用还是集中在GUI，游戏和多媒体工具包这些方面，在其他地方很少用到。要知道，面向对象也只是在这些领域被证明非常成功，而开放源码社区的选择，很大程度上体现了程序员的自由意志，而不是公司管理层的胡乱指挥。

也许C++实现OO的方法有问题。有证据表明C++程序在整个生命周期的开销高于相应的C, Fortran和Ada程序。不过，究竟这是否应该归咎与C++的OO实现上，还不清楚。

最近几年，C++加入了很多非OO的思想，其异常思想类似Lisp，STL的出现是非常了不起的。

其实C++最根本的问题在于，它基本上只不过是另一种传统的语言。STL中的内存管理比先前的new/delete和C的方案要好的多，但是还是没有解决问题。对于很多应用程序而言，其OO特性并不明显，相比与C，除了增加复杂度之外没有获得很多好处。

总结：C++优点在于作为编译型语言，把效率与泛型和面向对象特性结合起来，其缺点在于过于华丽复杂，倾向于鼓励程过分复杂的设计。

**Java**

Java的设计很聪明，它采用了自动内存管理，这是最大的改进，支持OO设计带来的好处虽然不那么突出，不过也很值得赞赏，相比C++，其OO设计规模小而且简单 。

相对于Python而言，Java有一些明显的失误。有些地方设计的还是太复杂，甚至有缺陷。Java的类可见性和隐式scoping规则太复杂了。Interface机制是为了避免多继承带来的问题而设计的，但是要理解和使用它还是挺难。内部类和匿名类导致令人困惑的代码。缺乏有效的析构机制，使得除了内存之外的其他资源（比如互斥量和锁）管理起来很困难。Java的线程不可靠，其I/O机制很强大，但是读取一个文本文件却非常繁琐。

Java没有管理库版本的机制，从而形式上重蹈了了Windows DLL地狱的覆辙。在类似应用服务器这样的环境里，这引起了大量的问题。

总体而言，我们可以说除了系统编程和对效率要求极高的程序之外，Java在大部分领域优于C++。经验表明，Java程序员似乎不太容易象C++程序员那样构造过度的OO层，不过在Java中这仍然是个严重问题。

Java是否优于诸如Perl, Python这样的语言？我们还不是很清楚，很大程度上似乎跟程序规模有关。其擅长的领域基本上于Python相似，在效率上无法跟C/C++相提并论，在小规模的、大量使用模式匹配和编辑的项目里也无法匹敌Perl。在小项目里，Java显得过分强大了。我们猜测Python更适合小项目，而Java适合大项目，不过这一点并没有得到有力的证明。

**Python**

Python是一种脚本语言，可以与C紧密整合。它可以与动态加载的C库模块交换数据，也可以作为内嵌脚本语言而从C中调用。其语法类似C和模块化语言的杂合，不过有一个独一无二的特征，就是以缩进来确定语句块。

Python语言非常干净，设计优雅，具有出色的模块化特性。它提供了面向对象能力，但不强迫用户进行面向对象设计。其类型系统提供了强大的表达能力，类似Perl，具有匿名lambda表达式，这点又让Lisp黑客们感到亲切。Python依靠Tk提供方便的GUI界面开发能力。

在所有的解释型语言里，Python和Java最适合多名程序员以渐进方式协同开发大型项目。在很多方面，Python比Java要简单，它非常适合与构造快速原型，这一点使得它对于Java有独特优势：对于那些既不很复杂，又不要求高效率的程序，Python十分合适。

Python的速度没法跟C/C++相比，不过在今天的高速CPU上，合理地使用混合语言编程策略使得Python的上述弱点被有效地弥补。事实上，Python几乎被认为是主流脚本语言中最慢的一个，因为它提供了动态多态性。在大量使用正则表达式的小型项目，它逊于Perl。对于微型项目而言，shell和Tcl可能更好，Python显得太过强大了。

总结：Python最出色的地方在于，它鼓励清晰易读的代码，特别适合以渐进开发的方式构造大项目。其缺陷在于效率不高，太慢，不但跟编译语言相比慢，就是跟其他脚本语言相比也显得慢。

## c语言特点

C 语言能够长盛不衰、广泛应用，主要原因是它有一些鲜明的特点。

（1）低级语言

C 语言能够直接操作硬件、管理内存、跟操作系统对话，这使得它是一种非常接近底层的语言，也就是低级语言，非常适合写需要跟硬件交互、有极高性能要求的程序。

（2）可移植性

C 语言的原始设计目的，是将 Unix 系统移植到其他计算机架构。这使得它从一开始就非常注重可移植性，C 程序可以相对简单地移植到各种硬件架构和操作系统。

除了计算机，C 语言现在还是嵌入式系统的首选编程语言，汽车、照相机、家用电器等设备的底层系统都是用 C 语言编程，这也是因为它良好的可移植性。

（3）简单性

C 语言的语法相对简单，语法规则不算太多，也几乎没有语法糖。一般来说，如果两个语法可以完成几乎相同的事情，C 语言就只会提供一种，这样大大减少了语言的复杂性。

而且，C 语言的语法都是基础语法，不提供高级的数据结构，比如 C 语言没有“类”（class），复杂的数据结构都需要自己构造。

（4）灵活性

C 语言对程序员的限制很少。它假设程序员知道自己在干嘛，不会限制你做各种危险的操作，你干什么都可以，后果也由自己负责。

C 语言的哲学是“信任程序员，不要妨碍他们做事”。比如，它让程序员自己管理内存，不提供内存自动清理功能。另外，也不提供类型检查、数组的负索引检查、指针位置的检查等保护措施。

表面上看，这似乎很危险，但是对于高级程序员来说，却有了更大的编程自由。不过，这也使得 C 语言的 debug 不太容易。

（5）总结

上面这些特点，使得 C 语言可以写出性能非常强、完全发挥硬件潜力的程序，而且 C 语言的编译器实现难度相对较低。但是另一方面，C 语言代码容易出错，一般程序员不容易写好。

此外，当代很多流行语言都是以 C 语言为基础，比如 C++、Java、C#、JavaScript 等等。学好 C 语言有助于对这些语言加深理解。

## 编译

目前，最常见的 C 语言编译器是自由软件基金会推出的 GCC 编译器，它可以免费使用。本书也使用这个编译器。Linux 和 Mac 系统可以直接安装 GCC，Windows 系统可以安装 MinGW。但是，也可以不用这么麻烦，网上有在线编译器，能够直接在网页上模拟运行 C 代码，查看结果，下面就是两个这样的工具。

- CodingGround: https://tutorialspoint.com/compile_c_online.php
- OnlineGDB: https://onlinegdb.com/online_c_compiler

本书的例子都使用 GCC 在命令行进行编译。

## Hello World 示例

C 语言的源代码文件，通常以后缀名`.c`结尾。下面是一个简单的 C 程序`hello.c`。它就是一个普通的文本文件，任何文本编译器都能用来写。

```c
#include <stdio.h>

int main(void) {
  printf("Hello World\n");
  return 0;
}
```

上面这个程序的唯一作用，就是在屏幕上面显示“Hello World”。

这里不讲解这些代码是什么意思，只是作为一个例子，让大家看看 C 代码应该怎么编译和运行。假设你已经安装好了 GCC 编译器，可以打开命令行，执行下面的命令。

```bash
$ gcc hello.c
```

上面命令使用`gcc`编译器，将源文件`hello.c`编译成二进制代码。注意，`$`是命令行提示符，你真正需要输入的是`$`后面的部分。

运行这个命令以后，默认会在当前目录下生成一个编译产物文件`a.out`（assembler output 的缩写，Windows 平台为`a.exe`）。执行该文件，就会在屏幕上输出`Hello World`。

```bash
$ ./a.out
Hello World
```

GCC 的`-o`参数（output 的缩写）可以指定编译产物的文件名。

```
$ gcc -o hello hello.c
```

上面命令的`-o hello`指定，编译产物的文件名为`hello`（取代默认的`a.out`）。编译后就会生成一个名叫`hello`的可执行文件，相当于为`a.out`指定了名称。执行该文件，也会得到同样的结果。

```
$ ./hello
Hello World
```

GCC 的`-std=`参数（standard 的缩写）还可以指定按照哪个 C 语言的标准进行编译。

```
$ gcc -std=c99 hello.c
```

上面命令指定按照 C99 标准进行编译。

注意，`-std`后面需要用`=`连接参数，而不是像上面的`-o`一样用空格，并且`=`前后也不能有多余的空格。

# 基本语法

## printf(): print format

`printf()`可以在输出文本中指定占位符。所谓“占位符”，就是这个位置可以用其他值代入。

常用占位符:

- `%a`：十六进制浮点数，字母输出为小写。
- `%A`：十六进制浮点数，字母输出为大写。
- `%c`：字符。
- `%d`：十进制整数。
- `%e`：使用科学计数法的浮点数，指数部分的`e`为小写。
- `%E`：使用科学计数法的浮点数，指数部分的`E`为大写。
- `%i`：整数，基本等同于`%d`。
- `%f`：小数（包含`float`类型和`double`类型）。
- `%g`：6个有效数字的浮点数。整数部分一旦超过6位，就会自动转为科学计数法，指数部分的`e`为小写。
- `%G`：等同于`%g`，唯一的区别是指数部分的`E`为大写。
- `%hd`：十进制 short int 类型。
- `%ho`：八进制 short int 类型。
- `%hx`：十六进制 short int 类型。
- `%hu`：unsigned short int 类型。
- `%ld`：十进制 long int 类型。
- `%lo`：八进制 long int 类型。
- `%lx`：十六进制 long int 类型。
- `%lu`：unsigned long int 类型。
- `%lld`：十进制 long long int 类型。
- `%llo`：八进制 long long int 类型。
- `%llx`：十六进制 long long int 类型。
- `%llu`：unsigned long long int 类型。
- `%Le`：科学计数法表示的 long double 类型浮点数。
- `%Lf`：long double 类型浮点数。
- `%n`：已输出的字符串数量。该占位符本身不输出，只将值存储在指定变量之中。
- `%o`：八进制整数。
- `%p`：指针。
- `%s`：字符串。
- `%u`：无符号整数（unsigned int）。
- `%x`：十六进制整数。
- `%zd`：`size_t`类型。
- `%%`：输出一个百分号。

## 标准库,头文件(header file）

C 语言自带的所有这些功能，统称为“标准库”（standard library），因为它们是写入标准的，到底包括哪些功能，应该怎么使用的，都是规定好的，这样才能保证代码的规范和可移植。



如果要使用某个功能，就必须先加载对应的头文件，加载使用的是`#include`命令。这就是为什么使用`printf()`之前，必须先加载`stdio.h`的原因。

# 变量

变量（variable）可以理解成一块内存区域的名字。通过变量名，可以引用这块内存区域，获取里面存储的值。由于值可能发生变化，所以称为变量，否则就是常量了。

## 变量名

变量名在 C 语言里面属于标识符（identifier），命名有严格的规范。

- 只能由字母（包括大写和小写）、数字和下划线（`_`）组成。

- 不能以数字开头。

- 长度不能超过63个字符。

- 变量名区分大小写

- 非保留字

  ```bash
  auto, break, case, char, const, continue, default, do, double, else, enum, extern, float, for, goto, if, inline, int, long, register, restrict, return, short, signed, sizeof, static, struct, switch, typedef, union, unsigned, void, volatile, while
  ```

- 另外，两个下划线开头的变量名，以及一个下划线 + 大写英文字母开头的变量名，都是系统保留的，自己不应该起这样的变量名。

## 变量声明

- C 语言的变量，必须先声明后使用。如果一个变量没有声明，就直接使用，会报错。
- 每个变量都有自己的类型（type）。声明变量时，必须把变量的类型告诉编译器。
- 如果几个变量具有相同类型，可以在同一行声明。
- 声明变量的语句必须以分号结尾。
- 一旦声明，变量的类型就不能在运行时修改

## 变量的赋值

C 语言会在变量声明时，就为它分配内存空间，但是不会清除内存里面原来的值。这导致声明变量以后，变量会是一个随机的值。所以，变量一定要赋值以后才能使用。



C 语言有左值（left value）和右值（right value）的概念。左值是可以放在赋值运算符左边的值，一般是变量；右值是可以放在赋值运算符右边的值，一般是一个具体的值。

## 变量的作用域

作用域（scope）指的是变量生效的范围。C 语言的变量作用域主要有两种：文件作用域（file scope）和块作用域（block scope）。

- 文件作用域（file scope）指的是，在源码文件顶层声明的变量，从声明的位置到文件结束都有效。
- 块作用域（block scope）指的是由大括号（`{}`）组成的代码块，它形成一个单独的作用域。凡是在块作用域里面声明的变量，只在当前代码块有效，代码块外部不可见。

代码块可以嵌套，即代码块内部还有代码块，这时就形成了多层的块作用域。它的规则是：

- 内层代码块可以使用外层声明的变量，但外层不可以使用内层声明的变量。
- 如果内层的变量与外层同名，那么会在当前作用域覆盖外层变量。

# 运算符

运算符`/`用来完成除法。注意，两个整数相除，得到还是一个整数。

运算符`%`表示求模运算，即返回两个整数相除的余值。这个运算符只能用于整数，不能用于浮点数。 负数求模的规则是，结果的正负号由第一个运算数的正负号决定。



C 语言提供两个运算符，对变量自身进行`+ 1`和`- 1`的操作。

- `++`：自增运算符
- `--`：自减运算符

`++var`和`--var`是先执行自增或自减操作，再返回操作后`var`的值；

`var++`和`var--`则是先返回操作前`var`的值，再执行自增或自减操作。





关系表达式通常返回`0`或`1`，表示真伪。C 语言中，`0`表示伪，所有非零值表示真。



逻辑运算符还有一个特点，它总是先对左侧的表达式求值，再对右边的表达式求值，这个顺序是保证的。如果左边的表达式满足逻辑运算符的条件，就不再对右边的表达式求值。这种情况称为“**短路**”。



C 语言提供一些位运算符，用来操作二进制位（bit）。

- 取反运算符`～`是一个一元运算符，用来将每一个二进制位变成相反值，即`0`变成`1`，`1`变成`0`。`~`运算符不会改变变量的值，只是返回一个新的值。
- 与运算符`&`将两个值的每一个二进制位进行比较，返回一个新的值。当两个二进制位都为`1`，就返回`1`，否则返回`0`。
- 或运算符`|`将两个值的每一个二进制位进行比较，返回一个新的值。两个二进制位只要有一个为`1`（包含两个都为`1`的情况），就返回`1`，否则返回`0`。
- 异或运算符`^`将两个值的每一个二进制位进行比较，返回一个新的值。两个二进制位有且仅有一个为`1`，就返回`1`，否则返回`0`。
- 左移运算符`<<`将左侧运算数的每一位，向左移动指定的位数，尾部空出来的位置使用`0`填充。
- 右移运算符`>>`将左侧运算数的每一位，向右移动指定的位数，尾部无法容纳的值将丢弃，头部空出来的位置使用`0`填充。

## 运算符优先级

> 完全记住所有运算符的优先级没有必要，解决方法是多用圆括号，防止出现意料之外的情况，也有利于提高代码的可读性。

运算符的优先级顺序很复杂。下面是部分运算符的优先级顺序（按照优先级从高到低排列）。

- 圆括号（`()`）
- 自增运算符（`++`），自减运算符（`--`）
- 一元运算符（`+`和`-`）
- 乘法（`*`），除法（`/`）
- 加法（`+`），减法（`-`）
- 关系运算符（`<`、`>`等）
- 赋值运算符（`=`）

# 流程控制

`if`语句用于条件判断，满足条件时，就执行指定的语句。



C 语言有一个三元表达式`?:`，可以用作`if...else`的简写形式。

```c
<expression1> ? <expression2> : <expression3>
```



switch 语句是一种特殊形式的 if...else 结构，用于判断条件有多个结果的情况。它把多重的`else if`改成更易用、可读性更好的形式。



`while`语句用于循环结构，满足条件时，不断执行循环体。

```c
while (expression)
  statement
```

如果表达式`expression`为非零值（表示真），就会执行`statement`语句，然后再次判断`expression`是否为零；如果`expression`为零（表示伪）就跳出循环，不再执行循环体。



`do...while`结构是`while`的变体，它会先执行一次循环体，然后再判断是否满足条件。如果满足的话，就继续执行循环体，否则跳出循环。

```c
do statement
while (expression);
```



`for`语句是最常用的循环结构，通常用于精确控制循环次数。

```c
for (initialization; continuation; action)
  statement;
```

上面代码中，`for`语句的条件部分（即圆括号里面的部分）有三个表达式。

- `initialization`：初始化表达式，用于初始化循环变量，只执行一次。
- `continuation`：判断表达式，只要为`true`，就会不断执行循环体。
- `action`：循环变量处理表达式，每轮循环结束后执行，使得循环变量发生变化。

循环体部分的`statement`可以是一条语句，也可以是放在大括号里面的复合语句。



`break`语句有两种用法。一种是与`switch`语句配套使用，用来中断某个分支的执行，这种用法前面已经介绍过了。另一种用法是在循环体内部跳出循环，不再进行后面的循环了。

注意，`break`命令只能跳出循环体和`switch`结构，不能跳出`if`结构。



`continue`语句用于在循环体内部终止本轮循环，进入下一轮循环。只要遇到`continue`语句，循环体内部后面的语句就不执行了，回到循环体的头部，开始执行下一轮循环。



# 数据类型

基本数据类型有三种：字符（char）、整数（int）和浮点数（float）。复杂的类型都是基于它们构建的。



C 语言使用`signed`关键字，表示一个类型带有正负号，包含负值；使用`unsigned`关键字，表示该类型不带有正负号，只能表示零和正整数。



有时候需要查看，当前系统不同整数类型的最大值和最小值，C 语言的头文件`limits.h`提供了相应的常量，比如`SCHAR_MIN`代表 signed char 类型的最小值`-128`，`SCHAR_MAX`代表 signed char 类型的最大值`127`。

为了避免溢出，最好方法就是将运算结果与类型的极限值进行比较。

```c
unsigned int ui;
unsigned int sum;

// 错误
if (sum + ui > UINT_MAX) too_big();
else sum = sum + ui;

// 正确
if (ui > UINT_MAX - sum) too_big();
else sum = sum + ui;
```





C 语言的整数默认都是十进制数，如果要表示八进制数和十六进制数，必须使用专门的表示法。

八进制使用`0`作为前缀，比如`017`、`0377`。

```c
int a = 012; // 八进制，相当于十进制的10
```

十六进制使用`0x`或`0X`作为前缀，比如`0xf`、`0X10`。

```c
int a = 0x1A2B; // 十六进制，相当于十进制的6699
```



C 语言原来并没有为布尔值单独设置一个类型，而是使用整数`0`表示伪，所有非零值表示真。



字面量（literal）指的是代码里面直接出现的值。

常用的字面量后缀有下面这些。

- `f`和`F`：`float`类型。
- `l`和`L`：对于整数是`long int`类型，对于小数是`long double`类型。
- `ll`和`LL`：Long Long 类型，比如`3LL`。
- `u`和`U`：表示`unsigned int`，比如`15U`、`0377U`。





`sizeof`是 C 语言提供的一个运算符，返回某种数据类型或某个值占用的字节数量。它的参数可以是数据类型的关键字，也可以是变量名或某个具体的值。



## 类型的自动转换

某些情况下，C 语言会自动转换某个值的类型。

（1）浮点数赋值给整数变量

浮点数赋予整数变量时，C 语言直接丢弃小数部分，而不是四舍五入。

（2）整数赋值给浮点数变量

整数赋值给浮点数变量时，会自动转为浮点数。

（3）窄类型赋值给宽类型

字节宽度较小的整数类型，赋值给字节宽度较大的整数变量时，会发生类型提升，即窄类型自动转为宽类型。

（4）宽类型赋值给窄类型

字节宽度较大的类型，赋值给字节宽度较小的变量时，会发生类型降级，自动转为后者的类型。这时可能会发生截值（truncation），系统会自动截去多余的二进制位，导致难以预料的结果。





不同类型的值进行混合计算时，必须先转成同一个类型，才能进行计算。转换规则如下：

（1）整数与浮点数混合运算时，整数转为浮点数类型，与另一个运算数类型相同。

（2）不同的浮点数类型混合运算时，宽度较小的类型转为宽度较大的类型，比如`float`转为`double`，`double`转为`long double`。

（3）不同的整数类型混合运算时，宽度较小的类型会提升为宽度较大的类型。比如`short`转为`int`，`int`转为`long`等，有时还会将带符号的类型`signed`转为无符号`unsigned`。 (最好避免无符号整数与有符号整数的混合运算。因为这时 C 语言会自动将`signed int`转为`unsigned int`，可能不会得到预期的结果。)







